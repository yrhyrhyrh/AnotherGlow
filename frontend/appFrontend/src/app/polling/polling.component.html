<div [formGroup]="pollForm" class="polling-container">
  <!-- Poll Question -->
  <div class="form-group">
    <label for="Question">Poll Question:</label>
    <input type="text" id="Question" class="form-control" formControlName="Question" placeholder="Enter your Question">
    <div *ngIf="pollForm.get('Question')?.invalid && (pollForm.get('Question')?.dirty || pollForm.get('Question')?.touched)" class="alert alert-danger mt-1">
      Question is required.
    </div>
  </div>

  <!-- Poll Options -->
  <div formArrayName="Options" class="form-group mt-3">
    <label>Poll Options (at least 2):</label>
    <div *ngFor="let option of Options.controls; let i = index" class="option-row mb-2 d-flex align-items-center">
      <input type="text" class="form-control me-2" [formControlName]="i" placeholder="Option {{ i + 1 }}">
      <button type="button" class="btn btn-sm btn-danger" (click)="removeOption(i)" [disabled]="Options.length <= 2">
        Remove
      </button>
    </div>
    <div *ngIf="Options.invalid && Options.touched" class="alert alert-danger mt-1">
      Please ensure all Options are filled and you have at least two Options.
    </div>
    <button type="button" class="btn btn-sm btn-secondary mt-2" (click)="addOption()">Add Another Option</button>
  </div>

  <!-- Additional Poll Settings -->
  <div class="form-check mt-3">
    <input type="checkbox" class="form-check-input" id="IsGlobal" formControlName="IsGlobal">
    <label class="form-check-label" for="IsGlobal">Make Poll Global (visible to everyone)</label>
  </div>

  <div class="form-check mt-2">
    <input type="checkbox" class="form-check-input" id="AllowMultipleSelections" formControlName="AllowMultipleSelections">
    <label class="form-check-label" for="AllowMultipleSelections">Allow voters to select multiple Options</label>
  </div>
</div>
